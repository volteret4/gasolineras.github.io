<!DOCTYPE html>
<html>
<head>
	<title>Listas de regalos</title>
    <style>
		.tachado {
			text-decoration: line-through;
		}
	</style>
</head>
<body>
    <div>
        <button id="eliminarTachados">Eliminar tachados</button>
    </div>
	
    <button onclick="mostrarLista('maria.json')">Mostrar lista 1</button>
	<button onclick="mostrarLista('perico.json')">Mostrar lista 2</button>
	<div id="lista1"></div>
	<div id="lista2"></div>
	<script>
		function mostrarLista(nombreArchivo) {
			// Leer archivo JSON
			fetch(nombreArchivo)
				.then(response => response.json())
				.then(data => {
					// Procesar datos
					let nombre = data.nombre;
					let articulos = data.articulos;
					// Crear lista
					let lista = document.createElement('ul');
					lista.innerHTML = `<h2>${nombre}</h2>`;
					// Añadir elementos a la lista
					articulos.forEach(articulo => {
						let item = document.createElement('li');
                        item.innerHTML = `<button>Tachar</button> ${articulo.regalo}`;
                        item.setAttribute('data-tachado', 'no');
						lista.appendChild(item);
                        item.querySelector('button').addEventListener('click', () => {
                        	if (item.getAttribute('data-tachado') === 'no') {
	                        	item.setAttribute('data-tachado', 'si');
	                        } else {
		                        item.setAttribute('data-tachado', 'no');
	                        }
	                        item.classList.toggle('tachado');
                        });
                    });
					// Mostrar lista en la página
					if (nombreArchivo === 'maria.json') {
						document.getElementById('lista1').appendChild(lista);
					} else if (nombreArchivo === 'perico.json') {
						document.getElementById('lista2').appendChild(lista);
					}
				});
		}
	</script>
</body>
</html>
